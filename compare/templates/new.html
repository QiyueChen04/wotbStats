<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Compare Tanks</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>

  <body>
    <form action = "{% url "" %}" method = "GET">
        {{ context.form.as_p }}
        <button type = "submit">Search</button>
    </form>

    {% if context.results %}
    <h1>Search Results for "{{ context.query }}"</h1>
    <table class="table">
        <tbody>
            <tr>
              <th></th>
                {% for tank in context.results %}
                <td><img src = {{tank.image_normal}} alt = "tank image" style = "width:100px;height:100px;"></td>
                {% endfor %}
            </tr>
            <tr>
              <th>Name</th>
                {% for tank in context.results %}
                <td>{{tank.name}}</td>
                {% endfor %}
            </tr>

            <tr>
              <th>Gun</th>
            </tr>

            <tr>
              <th>using many to many relationship</th>
                {% for tank in context.results %}
                <td>{{tank.guns.all()}}</td>
                {% endfor %}
            </tr>


        </tbody>
    </table>
    {% else %}
        <p>No results found.</p>
    {% endif %}
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>